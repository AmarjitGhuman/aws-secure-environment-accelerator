description: 
schemaVersion: '0.3'
assumeRole: '{{ AutomationAssumeRole }}'
parameters:
  LogDestination:
    type: String
  LogDestinationPrefix:
    type: String
  LoadBalancerArn:
    type: String
  AutomationAssumeRole:
    type: String
    default: ''
mainSteps:
  - name: enableLogging
    action: 'aws:executeAwsApi'
    inputs:
      Service: elbv2
      Api: modify_load_balancer_attributes
      LoadBalancerArn: '{{ LoadBalancerArn }}'
      Attributes:
        - Key: access_logs.s3.enabled
          Value: 'true'
        - Key: access_logs.s3.bucket
          Value: '{{ LogDestination }}'
        - Key: access_logs.s3.prefix
          Value: '{{ LogDestinationPrefix }}'